<html>
<head>
    <meta name="page-lang" content="fr-fr"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://cdn.jsdelivr.net/npm/contentful@latest/dist/contentful.browser.min.js"></script>
    <script>

    const client = contentful.createClient({
        space: 'id584rchndd7',
        environment: 'master', // defaults to 'master' if not set
        accessToken: '20_ERZGmoX-E6WBt0k9jpLzSeQZt6ZG2PWUI2kYAe9M'
    })

    client.getEntries()
        .then((response) => {
            console.log(response)
            document.getElementById("heading").innerHTML = response.items[0].fields.title
            document.getElementById("body").innerHTML = response.items[0].fields.intro
            document.getElementById("gate-wrapper").innerHTML = "<div class='gate-" + response.items[0].fields.gate[0].gateId + "'></div>"
        })
        .catch(console.error)
    </script>
</head>
    <body>
        <h1 id="heading"></h1>
        <div id="body"></div>
        <div id="gate-wrapper"></div>

        <script>
            (function(g,a,t,e,d,c,o){
            if (!g[d]) {g.GatedContentObject=d;
            g[d]=g[d]||function(){(g[d].q=g[d].q||[]).push(arguments)};
            c=a.createElement(t),o=a.getElementsByTagName(t)[0];
            c.async=1;c.src=e;o.parentNode.insertBefore(c, o)}
            })(window, document, 'script', 'http://staging-app.gatedcontent.com/scripts/12345678/app.js', 'gcdc');
            gcdc('loadGates');
        </script>
    </body>
</html>
